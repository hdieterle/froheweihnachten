<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frohe Weihnachten, Jakob!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #3e31a2;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        @font-face {
            font-family: 'C64';
            src: url('data:font/woff2;base64,d09GMgABAAAAABMAAA4AAAAAKAAAABKgAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGhYbEByCMAZgAIFKCCQJhGURCAqBdIEkCywAATYCJAOEDAQgBYM4ByAMBxu1HyMRNnLwAOxPJmH/RwJ24sB2bOwOYpjYxhQTMzDl6P9/kpOoLaSQvVZ1ujBqG7cN/aZ/w77e88XJH+xiwQqXuVzYP+8+78z7znPm4+fc93nec87MnXvf7737vu/7vm9VxQCCEBMIQQBBEARBEARBEATB/wFYxQBWMYBVDGAVA1jFAFYxgFUMYBX/B/wfAAAAAAAAAAAAAAAA') format('woff2');
        }

        .message-text {
            font-family: 'Courier New', 'C64', monospace;
            font-size: 14px;
            line-height: 1.5;
            letter-spacing: 2px;
            text-rendering: optimizeSpeed;
            image-rendering: pixelated;
            color: #000000;
            text-shadow: none;
            white-space: pre-line;
            font-weight: bold;
        }

        .c64-title {
            font-family: 'Courier New', 'C64', monospace;
            letter-spacing: 3px;
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: #7c71da;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px #000;
            z-index: 5;
            white-space: nowrap;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 1000px;
            aspect-ratio: 4/3;
            background: #3e31a2;
            border: 8px solid #7c71da;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
        }

        canvas {
            width: 100%;
            height: 100%;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        .message-overlay {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            border: 3px solid rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px 25px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            max-width: 90%;
            z-index: 10;
        }



        @media (max-width: 600px) {
            .message-overlay {
                padding: 20px 25px;
            }
            .message-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="c64-title">*** FROHE WEIHNACHTEN 2025 ***</div>
        <canvas id="scene"></canvas>
        <div class="message-overlay">
            <div class="message-text">Lieber Jakob,

schön waren die Feiertage mit Euch, auch wenn ich nur kurz dabei war und mein Geschenk sich nun dank der Wiener Post so sehr verspätet hat. Ich hoffe Du kannst mit dem Geschenk etwas anfangen und hoffe, dass wir uns bald wieder sehen!

Liebe Grüße von Deinem Schwager
Hannes</div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('scene');
        const ctx = canvas.getContext('2d');
        
        // Set canvas size
        canvas.width = 400;
        canvas.height = 300;
        
        // C64 color palette
        const colors = {
            sky: '#3e31a2',
            snow: '#ffffff',
            wall: '#883932',
            roof: '#4f4532',
            window: '#7c71da',
            windowLight: '#f7e26b',
            floor: '#6f5336',
            door: '#4f4532',
            tree: '#44891a',
            darkGreen: '#2e5c0a',
            person: '#f7e26b',
            hairGray: '#9f9f9f',
            hairBlonde: '#f7e26b',
            hairBrown: '#4f4532',
            cat: '#ff6c5c',
            smoke: '#9f9f9f'
        };

        let frame = 0;
        const snowflakes = [];
        
        // Initialize snowflakes
        for (let i = 0; i < 50; i++) {
            snowflakes.push({
                x: Math.random() * 400,
                y: Math.random() * 300,
                speed: 0.3 + Math.random() * 0.5,
                size: 1 + Math.random() * 2
            });
        }

        // Person class
        class Person {
            constructor(x, y, hairColor, hairStyle, hasGlasses = false, height = 20) {
                this.x = x;
                this.y = y;
                this.hairColor = hairColor;
                this.hairStyle = hairStyle; // 'long', 'short', 'bun'
                this.hasGlasses = hasGlasses;
                this.height = height;
                this.bobOffset = Math.random() * Math.PI * 2;
            }

            draw(frame) {
                const bob = Math.sin(frame * 0.05 + this.bobOffset) * 1;
                const y = this.y + bob;
                const scale = 2; // Make persons twice as large

                // Body
                ctx.fillStyle = colors.person;
                ctx.fillRect(this.x - 3 * scale, y - this.height + 8 * scale, 6 * scale, 10 * scale);
                
                // Head
                ctx.fillRect(this.x - 3 * scale, y - this.height, 6 * scale, 6 * scale);
                
                // Hair
                ctx.fillStyle = this.hairColor;
                if (this.hairStyle === 'long') {
                    ctx.fillRect(this.x - 4 * scale, y - this.height - 2, 8 * scale, 3);
                    ctx.fillRect(this.x - 3 * scale, y - this.height + 2, 2, 6 * scale);
                    ctx.fillRect(this.x + 1 * scale, y - this.height + 2, 2, 6 * scale);
                } else if (this.hairStyle === 'short') {
                    ctx.fillRect(this.x - 3 * scale, y - this.height - 2, 6 * scale, 3);
                } else if (this.hairStyle === 'bun') {
                    ctx.fillRect(this.x - 3 * scale, y - this.height - 2, 6 * scale, 3);
                    ctx.fillRect(this.x, y - this.height - 4, 3 * scale, 3);
                }

                // Glasses
                if (this.hasGlasses) {
                    ctx.fillStyle = '#000';
                    ctx.fillRect(this.x - 2 * scale, y - this.height + 2, 2, 2);
                    ctx.fillRect(this.x + 1 * scale, y - this.height + 2, 2, 2);
                    ctx.fillRect(this.x - 1, y - this.height + 2, 2, 2);
                }
            }
        }

        // Cat class
        class Cat {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.direction = Math.random() > 0.5 ? 1 : -1;
                this.tailWag = 0;
            }

            draw(frame) {
                this.tailWag = Math.sin(frame * 0.1) * 3;
                
                // Body (larger)
                ctx.fillStyle = colors.cat;
                ctx.fillRect(this.x, this.y - 6, 10, 6);
                
                // Head
                ctx.fillRect(this.x + 2, this.y - 10, 6, 4);
                
                // Ears
                ctx.fillRect(this.x + 2, this.y - 12, 2, 2);
                ctx.fillRect(this.x + 6, this.y - 12, 2, 2);
                
                // Tail
                ctx.fillRect(this.x + 10, this.y - 4 + this.tailWag, 4, 2);
            }

            update() {
                this.x += this.direction * 0.15;
                if (this.x < -15 || this.x > 410) {
                    this.direction *= -1;
                }
            }
        }

        // Create characters
        const people = [
            // Grandparents (left room, ground floor)
            new Person(85, 210, colors.hairGray, 'long', false, 18),  // Oma
            new Person(110, 210, colors.hairGray, 'short', false, 20), // Opa
            
            // Jakob and partner (right room, ground floor)
            new Person(285, 210, colors.hairBlonde, 'short', false, 22), // Jakob
            new Person(315, 210, colors.hairBlonde, 'long', false, 19),  // Partner
            
            // Hannes family (upper floor, left room)
            new Person(105, 125, colors.hairBlonde, 'bun', false, 21),  // Hannes
            new Person(130, 125, colors.hairBlonde, 'short', false, 18), // Wife
            new Person(155, 125, colors.hairBrown, 'long', true, 14)      // Daughter
        ];

        const cats = [
            new Cat(320, 220),
            new Cat(350, 220)
        ];

        function drawHouse() {
            // Ground
            ctx.fillStyle = colors.snow;
            ctx.fillRect(0, 220, 400, 80);
            
            // House structure - back walls only
            ctx.fillStyle = colors.wall;
            
            // Back wall ground floor
            ctx.fillRect(50, 140, 5, 80);   // Left wall
            ctx.fillRect(345, 140, 5, 80);  // Right wall
            ctx.fillRect(50, 135, 300, 5);  // Ceiling/floor divider
            
            // Back wall upper floor
            ctx.fillRect(80, 80, 5, 60);    // Left wall
            ctx.fillRect(315, 80, 5, 60);   // Right wall
            ctx.fillRect(80, 75, 240, 5);   // Ceiling
            
            // Room dividers (vertical walls between rooms)
            ctx.fillRect(135, 140, 5, 80);  // Ground floor left divider
            ctx.fillRect(260, 140, 5, 80);  // Ground floor right divider
            ctx.fillRect(165, 80, 5, 60);   // Upper floor left divider
            ctx.fillRect(235, 80, 5, 60);   // Upper floor right divider
            
            // Roof
            ctx.fillStyle = colors.roof;
            ctx.beginPath();
            ctx.moveTo(70, 80);
            ctx.lineTo(200, 40);
            ctx.lineTo(330, 80);
            ctx.lineTo(320, 80);
            ctx.lineTo(200, 48);
            ctx.lineTo(80, 80);
            ctx.closePath();
            ctx.fill();
            
            // Snow on roof
            ctx.fillStyle = colors.snow;
            ctx.fillRect(70, 78, 260, 3);
            
            // Chimney
            ctx.fillStyle = colors.roof;
            ctx.fillRect(250, 50, 15, 30);
            
            // Smoke
            ctx.fillStyle = colors.smoke;
            for (let i = 0; i < 3; i++) {
                const offset = Math.sin(frame * 0.05 + i) * 3;
                ctx.fillRect(255 + offset, 35 - i * 8, 5, 5);
            }
            
            // Floors
            ctx.fillStyle = colors.floor;
            ctx.fillRect(50, 218, 300, 5);  // Ground
            ctx.fillRect(50, 135, 300, 5);  // First floor
            ctx.fillRect(80, 75, 240, 5);   // Second floor
            
            // Windows in back walls - upper floor
            ctx.fillStyle = colors.window;
            ctx.fillRect(95, 90, 20, 30);
            ctx.fillRect(180, 90, 20, 30);
            ctx.fillRect(285, 90, 20, 30);
            
            // Window panes
            ctx.fillStyle = colors.windowLight;
            ctx.fillRect(97, 92, 7, 12);
            ctx.fillRect(106, 92, 7, 12);
            ctx.fillRect(97, 106, 7, 12);
            ctx.fillRect(106, 106, 7, 12);
            
            ctx.fillRect(182, 92, 7, 12);
            ctx.fillRect(191, 92, 7, 12);
            ctx.fillRect(182, 106, 7, 12);
            ctx.fillRect(191, 106, 7, 12);
            
            ctx.fillRect(287, 92, 7, 12);
            ctx.fillRect(296, 92, 7, 12);
            ctx.fillRect(287, 106, 7, 12);
            ctx.fillRect(296, 106, 7, 12);
            
            // Windows in back walls - ground floor
            ctx.fillStyle = colors.window;
            ctx.fillRect(65, 155, 20, 30);
            ctx.fillRect(310, 155, 20, 30);
            
            // Window panes ground floor
            ctx.fillStyle = colors.windowLight;
            ctx.fillRect(67, 157, 7, 12);
            ctx.fillRect(76, 157, 7, 12);
            ctx.fillRect(67, 171, 7, 12);
            ctx.fillRect(76, 171, 7, 12);
            
            ctx.fillRect(312, 157, 7, 12);
            ctx.fillRect(321, 157, 7, 12);
            ctx.fillRect(312, 171, 7, 12);
            ctx.fillRect(321, 171, 7, 12);
            
            // Door
            ctx.fillStyle = colors.door;
            ctx.fillRect(190, 180, 25, 40);
            
            // Door handle
            ctx.fillStyle = colors.windowLight;
            ctx.fillRect(210, 200, 2, 3);
            
            // Some furniture/details
            // Table ground floor left room
            ctx.fillStyle = colors.floor;
            ctx.fillRect(70, 200, 30, 4);
            ctx.fillRect(75, 204, 3, 15);
            ctx.fillRect(92, 204, 3, 15);
            
            // Table ground floor right room
            ctx.fillRect(280, 200, 30, 4);
            ctx.fillRect(285, 204, 3, 15);
            ctx.fillRect(302, 204, 3, 15);
            
            // Bed upper floor
            ctx.fillStyle = colors.wall;
            ctx.fillRect(90, 115, 40, 15);
            ctx.fillStyle = colors.windowLight;
            ctx.fillRect(92, 117, 36, 11);
        }

        function drawTrees() {
            // Left tree
            ctx.fillStyle = colors.darkGreen;
            ctx.fillRect(15, 180, 10, 40);
            ctx.fillStyle = colors.tree;
            ctx.fillRect(10, 160, 20, 20);
            ctx.fillRect(12, 145, 16, 15);
            ctx.fillRect(14, 135, 12, 10);
            
            // Right tree
            ctx.fillStyle = colors.darkGreen;
            ctx.fillRect(375, 180, 10, 40);
            ctx.fillStyle = colors.tree;
            ctx.fillRect(370, 160, 20, 20);
            ctx.fillRect(372, 145, 16, 15);
            ctx.fillRect(374, 135, 12, 10);
        }

        function drawSnow() {
            ctx.fillStyle = colors.snow;
            snowflakes.forEach(flake => {
                ctx.fillRect(flake.x, flake.y, flake.size, flake.size);
                flake.y += flake.speed;
                
                if (flake.y > 300) {
                    flake.y = -10;
                    flake.x = Math.random() * 400;
                }
            });
        }

        function animate() {
            // Clear canvas
            ctx.fillStyle = colors.sky;
            ctx.fillRect(0, 0, 400, 300);
            
            // Draw scene
            drawSnow();
            drawTrees();
            drawHouse();
            
            // Draw people
            people.forEach(person => person.draw(frame));
            
            // Draw and update cats
            cats.forEach(cat => {
                cat.update();
                cat.draw(frame);
            });
            
            frame++;
            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
